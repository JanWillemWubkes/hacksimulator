import e from"./core/terminal.js";import t from"./ui/legal.js";import o from"./ui/onboarding.js";import r from"./ui/feedback.js";import{initTerminalNavbar as m}from"./components/navbar-terminal.js";import i from"./analytics/tracker.js";import a from"./analytics/events.js";import n from"./analytics/consent.js";import c from"./commands/system/clear.js";import l from"./commands/system/echo.js";import d from"./commands/system/whoami.js";import g from"./commands/system/date.js";import p from"./commands/system/history.js";import f from"./commands/system/help.js";import y from"./commands/system/man.js";import j from"./commands/system/shortcuts.js";import u from"./commands/system/leerpad.js";import h from"./commands/filesystem/ls.js";import w from"./commands/filesystem/cd.js";import k from"./commands/filesystem/pwd.js";import S from"./commands/filesystem/cat.js";import b from"./commands/filesystem/mkdir.js";import v from"./commands/filesystem/touch.js";import M from"./commands/filesystem/rm.js";import z from"./commands/filesystem/cp.js";import A from"./commands/filesystem/mv.js";import C from"./commands/filesystem/find.js";import E from"./commands/filesystem/grep.js";import H from"./commands/special/reset.js";import N from"./commands/network/ping.js";import F from"./commands/network/nmap.js";import R from"./commands/network/ifconfig.js";import B from"./commands/network/netstat.js";import I from"./commands/network/whois.js";import T from"./commands/network/traceroute.js";import q from"./commands/security/hashcat.js";import x from"./commands/security/hydra.js";import D from"./commands/security/sqlmap.js";import L from"./commands/security/metasploit.js";import O from"./commands/security/nikto.js";function P(){try{const o=document.getElementById("terminal-output"),P=document.getElementById("terminal-input");if(!o||!P)throw new Error("Terminal elements not found in DOM");!function(){const t=e.getRegistry();t.register("clear",c),t.register("echo",l),t.register("whoami",d),t.register("date",g),t.register("history",p),t.register("help",f),t.register("man",y),t.register("shortcuts",j),t.register("leerpad",u),t.register("ls",h),t.register("cd",w),t.register("pwd",k),t.register("cat",S),t.register("mkdir",b),t.register("touch",v),t.register("rm",M),t.register("cp",z),t.register("mv",A),t.register("find",C),t.register("grep",E),t.register("reset",H),t.register("ping",N),t.register("nmap",F),t.register("ifconfig",R),t.register("netstat",B),t.register("whois",I),t.register("traceroute",T),t.register("hashcat",q),t.register("hydra",x),t.register("sqlmap",D),t.register("metasploit",L),t.register("nikto",O),void 0}(),e.init({outputElement:o,inputElement:P}),void 0;try{m(),void 0}catch(e){console.error("[Main] initTerminalNavbar() failed:",e)}window.CommandSearchModal&&(window.commandSearchModal=new window.CommandSearchModal(e.getRegistry()),window.commandSearchModal.init(),void 0),r.init(),t.checkAndShowModal(),i.init("ga4"),n.checkAndShowBanner(),a.incrementVisitCount(),a.sessionStart(),void 0}catch(e){console.error("Failed to initialize HackSimulator:",e),alert("Failed to initialize terminal. Please refresh the page.")}}void 0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",P):P(),window.HackSimulator={terminal:e,version:"0.1.0-mvp",debug:{getRegistry:()=>e.getRegistry(),getHistory:()=>e.getHistory(),clear:()=>e.clear()},feedback:{getAll:()=>r.getAllFeedback(),getStats:()=>r.getStats(),export:()=>r.exportFeedback(),clear:()=>r.clearAllFeedback()}};