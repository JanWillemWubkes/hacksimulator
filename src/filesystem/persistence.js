import e from"./vfs.js";const t=new class{constructor(){this.storageKey="hacksim_filesystem",this.autoSave=!0}save(){if(this.autoSave)try{const t=e.serialize();localStorage.setItem(this.storageKey,t),console.log("[VFS] Filesystem saved to localStorage")}catch(e){console.warn("[VFS] Failed to save filesystem:",e)}}load(){try{const t=localStorage.getItem(this.storageKey);return!!t&&(e.deserialize(t),console.log("[VFS] Filesystem loaded from localStorage"),!0)}catch(e){return console.warn("[VFS] Failed to load filesystem:",e),!1}}reset(){e.reset(),this.clear(),console.log("[VFS] Filesystem reset to initial state")}clear(){try{localStorage.removeItem(this.storageKey),console.log("[VFS] Filesystem storage cleared")}catch(e){console.warn("[VFS] Failed to clear filesystem storage:",e)}}setAutoSave(e){this.autoSave=e}hasSavedData(){try{return null!==localStorage.getItem(this.storageKey)}catch(e){return!1}}getStorageSize(){try{const e=localStorage.getItem(this.storageKey);return e?e.length:0}catch(e){return 0}}};t.hasSavedData()&&t.load();export default t;