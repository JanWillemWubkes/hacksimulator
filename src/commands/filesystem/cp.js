import{getPathCompletions as e}from"../../utils/filesystem-completion.js";export default{name:"cp",category:"filesystem",description:"Copy files or directories",usage:"cp <source> <destination>",completionProvider(n){const t=n.length>0?n[n.length-1]:"";return e(t,{type:"both"})},async execute(e,n,t){const{vfs:i}=t;if(e.length<2)return`cp: missing ${0===e.length?"file operand":"destination file operand"}\n\n[ ? ] TIP: Gebruik 'cp <bron> <doel>' om een bestand te kopiëren. Bijvoorbeeld: cp file.txt backup.txt`;const r=e[0],a=e[1];try{return i.copy(r,a),""}catch(e){return e.message.includes("No such file or directory")?e.message.includes(r)?`cp: cannot stat '${r}': No such file or directory\n\n[ ? ] TIP: De bronbestand bestaat niet. Gebruik 'ls' om te zien welke bestanden beschikbaar zijn.`:`cp: cannot create '${a}': No such file or directory\n\n[ ? ] TIP: De doeldirectory bestaat niet. Maak deze eerst aan met 'mkdir'.`:e.message.includes("Not a directory")?`cp: cannot create '${a}': Not a directory\n\n[ ? ] TIP: Een component in het doelpad is een bestand, geen directory.`:`cp: ${e.message}`}},manPage:"\nNAAM\n    cp - copy files and directories\n\nSYNOPSIS\n    cp <SOURCE> <DESTINATION>\n\nBESCHRIJVING\n    Kopieer een bestand of directory van SOURCE naar DESTINATION. Het\n    originele bestand blijft bestaan.\n\nARGUMENTEN\n    SOURCE\n        Het te kopiëren bestand of directory (verplicht)\n\n    DESTINATION\n        De doellocatie (verplicht)\n\nVOORBEELDEN\n    cp file.txt backup.txt\n        Kopieer file.txt naar backup.txt (in huidige directory)\n\n    cp notes.txt /tmp/notes_backup.txt\n        Kopieer naar een andere directory met nieuwe naam\n\n    cp README.txt ~/documents/README.txt\n        Kopieer naar home directory subdirectory\n\nEDUCATIEVE TIPS\n    [CPY] cp maakt een exacte kopie - het origineel blijft bestaan\n\n    [ ? ] Use cases:\n       • Backups maken voor je experimenten iets probeert\n       • Bestanden dupliceren om aan te passen\n       • Data naar andere locaties kopiëren\n\n    [ + ]️ In pentesting:\n       • cp /etc/passwd /tmp/passwd → Kopie maken om lokaal te analyseren\n       • Backup maken voor je configuraties aanpast\n       • Exfiltratie simuleren (data naar tijdelijke locatie)\n\n    [ ↻ ] Verschil met mv:\n       • cp → Origineel blijft bestaan (kopie)\n       • mv → Origineel wordt verplaatst (geen kopie)\n\n    [ ! ] Let op:\n       Als de destination al bestaat, wordt deze overschreven zonder\n       waarschuwing in deze simulator!\n\n    [DSK] In real Linux:\n       • cp -r voor recursief kopiëren van directories\n       • cp -i voor interactieve bevestiging bij overschrijven\n       • cp -p behoudt timestamps en permissies\n\nGERELATEERDE COMMANDO'S\n    mv, rm, ls, cat\n".trim()};