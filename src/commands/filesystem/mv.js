import{getPathCompletions as e}from"../../utils/filesystem-completion.js";export default{name:"mv",category:"filesystem",description:"Move or rename files/directories",usage:"mv <source> <destination>",completionProvider(n){const t=n.length>0?n[n.length-1]:"";return e(t,{type:"both"})},async execute(e,n,t){const{vfs:r}=t;if(e.length<2)return`mv: missing ${0===e.length?"file operand":"destination file operand"}\n\n[?] TIP: Gebruik 'mv <bron> <doel>' om een bestand te verplaatsen of hernoemen. Bijvoorbeeld: mv old.txt new.txt`;const i=e[0],o=e[1];if(function(e){const n=(e.startsWith("/"),e);return["/","/etc","/var","/home","/root","/bin","/usr"].includes(n)}(i))return`mv: cannot move '${i}': Critical system directory\n\n[!] WAARSCHUWING: Kritieke system directories kunnen niet verplaatst worden.`;try{return r.move(i,o),`[✓] '${i}' verplaatst naar '${o}'`}catch(e){return e.message.includes("No such file or directory")?e.message.includes(i)?`mv: cannot stat '${i}': No such file or directory\n\n[?] TIP: Het bronbestand bestaat niet. Gebruik 'ls' om te zien welke bestanden beschikbaar zijn.`:`mv: cannot move to '${o}': No such file or directory\n\n[?] TIP: De doeldirectory bestaat niet. Maak deze eerst aan met 'mkdir'.`:e.message.includes("Not a directory")?`mv: cannot move to '${o}': Not a directory\n\n[?] TIP: Een component in het doelpad is een bestand, geen directory.`:`mv: ${e.message}`}},manPage:'\nNAAM\n    mv - move (rename) files\n\nSYNOPSIS\n    mv <SOURCE> <DESTINATION>\n\nBESCHRIJVING\n    Verplaats of hernoem een bestand of directory. Het originele bestand\n    wordt verwijderd na het verplaatsen.\n\nARGUMENTEN\n    SOURCE\n        Het te verplaatsen bestand of directory (verplicht)\n\n    DESTINATION\n        De nieuwe locatie of naam (verplicht)\n\nVOORBEELDEN\n    mv old.txt new.txt\n        Hernoem old.txt naar new.txt (in huidige directory)\n\n    mv file.txt /tmp/\n        Verplaats file.txt naar /tmp directory\n\n    mv notes.txt ~/backup/notes.txt\n        Verplaats naar home directory met nieuwe naam\n\n    mv mydir /tmp/mydir\n        Verplaats een hele directory\n\nEDUCATIEVE TIPS\n    [↻] mv heeft twee hoofdfuncties:\n       1. Hernoemen (source en dest in zelfde directory)\n       2. Verplaatsen (source en dest in verschillende directories)\n\n    [?] Use cases:\n       • Bestanden hernoemen (betere namen)\n       • Bestanden verplaatsen naar andere directories\n       • Directories reorganiseren\n\n    [+]️ In pentesting:\n       • mv evidence.txt .hidden.txt  → Bestand "verbergen" met .prefix\n       • Logs verplaatsen tijdens cleanup\n       • Payload scripts hernoemen om minder verdacht te zijn\n\n    [!] Safety features:\n       • Kritieke system directories kunnen niet verplaatst worden\n       • Root directory kan niet verplaatst worden\n\n    [↻] Verschil met cp:\n       • mv → Origineel verdwijnt (verplaatsen)\n       • cp → Origineel blijft (kopiëren)\n\n    [!] Let op:\n       • Na mv bestaat het origineel NIET meer\n       • Als destination al bestaat, wordt deze overschreven\n       • mv werkt op zowel files als directories\n\n    [DSK] In real Linux:\n       • mv -i voor interactieve bevestiging bij overschrijven\n       • mv kan niet tussen verschillende filesystems (dan wordt automatisch copy+delete)\n\nGERELATEERDE COMMANDO\'S\n    cp, rm, ls, rename\n'.trim()};