import{BOX_CHARS as e,getResponsiveBoxWidth as n,smartTruncate as t,isMobileView as o}from"../../utils/box-utils.js";const a=e,i=[{phase:"FASE 1: TERMINAL BASICS",commands:[{name:"help",description:"Commands ontdekken"},{name:"ls",description:"Bestanden bekijken"},{name:"cd",description:"Navigeren"},{name:"pwd",description:"Huidige locatie"},{name:"cat",description:"Bestanden lezen"},{name:"whoami",description:"Je identiteit"},{name:"history",description:"Command geschiedenis"}]},{phase:"FASE 2: FILE MANIPULATION",commands:[{name:"mkdir",description:"Directory aanmaken"},{name:"touch",description:"Bestand aanmaken"},{name:"rm",description:"Bestanden verwijderen"}]},{phase:"FASE 3: RECONNAISSANCE",commands:[{name:"ping",description:"Test verbinding"},{name:"nmap",description:"Scan netwerk poorten"},{name:"ifconfig",description:"Network interfaces"},{name:"netstat",description:"Actieve verbindingen"}]},{phase:"FASE 4: SECURITY TOOLS",commands:[{name:"hashcat",description:"Crack wachtwoorden"},{name:"hydra",description:"Brute-force login"},{name:"sqlmap",description:"SQL injection scanner"},{name:"metasploit",description:"Exploit framework"},{name:"nikto",description:"Web scanner"}]}];function r(e,n){return n.has(e)}function s(e,n){const t=e.commands.length,o=e.commands.filter(e=>r(e.name,n)).length;return{completed:o,total:t,percentage:Math.round(o/t*100)}}function m(){const e=n()-2;return a.vertical+" ".repeat(e)+a.vertical}function c(e){const o=[];o.push(function(e){const t=` ${e} `,o=n()-2-t.length,i=Math.floor(o/2),r=o-i;return a.topLeft+a.horizontal.repeat(i)+t+a.horizontal.repeat(r)+a.topRight}("LEERPAD: ETHICAL HACKER")),o.push(m());let c=!0;return i.forEach((d,l)=>{const p=s(d,e),h=p.completed===p.total;o.push(function(e,t,o){const i=n(),r=`  ${o?"[X]":"[ ]"} ${e} (${t.completed}/${t.total})`,s=i-2-r.length;return a.vertical+r+" ".repeat(Math.max(0,s))+a.vertical}(d.phase,p,h));3===l&&!c?o.push(function(e){const t=`      [ ! ] Unlock na ${e} voltooiing`,o=n()-2-t.length;return a.vertical+t+" ".repeat(Math.max(0,o))+a.vertical}("Fase 3")):d.commands.forEach(i=>{const s=r(i.name,e);o.push(function(e,o){const i=n(),r=i-2-6-3-1-13-2,s=`      ${o?"[X]":"[ ]"} ${e.name.padEnd(13)}- ${t(e.description,r)}`,m=i-2-s.length;return a.vertical+s+" ".repeat(Math.max(0,m))+a.vertical}(i,s))}),l<i.length-1&&o.push(m()),c=h}),o.push(m()),o.push(function(){const e=n()-2;return a.bottomLeft+a.horizontal.repeat(e)+a.bottomRight}()),o.join("\n")}export default{name:"leerpad",description:"Toon leerpad met voortgang",category:"system",execute(){const e=function(){try{const e=localStorage.getItem("hacksim_commands_tried");if(!e)return new Set;const n=e.split(",").filter(e=>e.trim());return new Set(n)}catch(e){return console.warn("Could not read tried commands:",e),new Set}}();let n=o()?function(e){let n="\n**LEERPAD: ETHICAL HACKER**\n\n",t=!0;return i.forEach((o,a)=>{const i=s(o,e),m=i.completed===i.total;n+=`${m?"[X]":"[ ]"} **${o.phase}** (${i.completed}/${i.total})\n`,3!==a||t?o.commands.forEach(t=>{const o=r(t.name,e);n+=`    ${o?"[X]":"[ ]"} ${t.name} - ${t.description}\n`}):n+="    [ ! ] Unlock na Fase 3 voltooiing\n",n+="\n",t=m}),n+="[ ? ] Type commands om progressie te maken\n",n+="[ ! ] Fase 4 unlocks na voltooiing Fase 3\n",n}(e):c(e);return n+="\n\n",n+="[ ? ] TIP: Type commands om progressie te maken | 'man <command>' voor uitleg",n},manPage:"\nNAAM\n    leerpad - toon leerpad met voortgang\n\nSYNOPSIS\n    leerpad\n\nBESCHRIJVING\n    Toont je leerpad als ethical hacker in 4 fases. Elke command\n    die je correct uitvoert wordt automatisch afgevinkt, zodat je\n    je voortgang kunt volgen.\n\n    FASE 1: TERMINAL BASICS\n        Leer de basis terminal commands. Begin hier als je nieuw bent.\n        Commands: help, ls, cd, pwd, cat, whoami, history\n\n    FASE 2: FILE MANIPULATION\n        Leer bestanden en directories maken en verwijderen.\n        Commands: mkdir, touch, rm\n\n    FASE 3: RECONNAISSANCE\n        Leer netwerk scanning en informatie verzamelen.\n        Commands: ping, nmap, ifconfig, netstat\n\n    FASE 4: SECURITY TOOLS\n        Geavanceerde security testing tools. Let op: educatief gebruik!\n        Commands: hashcat, hydra, sqlmap, metasploit, nikto\n\n        [ ! ] Deze fase is vergrendeld totdat je Fase 3 hebt voltooid.\n\nVOORTGANG TRACKING\n    Je voortgang wordt automatisch opgeslagen in je browser.\n\n    Symbolen:\n        [X] Fase voltooid\n        [ ] Fase niet voltooid\n        [X] command   Command uitgeprobeerd\n        [ ] command   Command nog niet geprobeerd\n\nVOORBEELDEN\n    leerpad\n        Bekijk je huidige voortgang\n\n    help\n        Zie alle beschikbare commands\n\n    man nmap\n        Leer hoe een specifiek command werkt\n\nTIPS\n    • Begin met Fase 1 als je nieuw bent\n    • Type 'help' om alle commands te zien\n    • Commands worden alleen afgevinkt bij correct gebruik (met argumenten)\n    • Fase 4 wordt ontgrendeld na voltooiing van Fase 3\n\nGERELATEERDE COMMANDO'S\n    help (alle commands), man (gedetailleerde uitleg)\n".trim()};