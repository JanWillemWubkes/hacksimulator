export function initNavbar(){const e=document.querySelector(".navbar-toggle"),t=document.querySelector(".navbar-menu"),n=document.querySelector("#navbar"),o=document.querySelector(".theme-toggle"),a=document.querySelector(".navbar-dropdown > a"),r=document.querySelector(".navbar-dropdown");if(!e||!t||!n)return void console.error("[Navbar] FATAL: Required elements not found",{"navbar (#navbar)":!!n,"toggle (.navbar-toggle)":!!e,"menu (.navbar-menu)":!!t,"theme (.theme-toggle)":!!o,"dropdown (.navbar-dropdown)":!!r,"dropdownTrigger (.navbar-dropdown > a)":!!a});function i(e){const t=document.documentElement,n=document.querySelector('.toggle-option[data-theme="dark"]'),o=document.querySelector('.toggle-option[data-theme="light"]');e?(t.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),n&&n.classList.add("active"),o&&o.classList.remove("active")):(t.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),o&&o.classList.add("active"),n&&n.classList.remove("active"))}function l(){e.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Menu openen")}function c(){if(r){r.classList.remove("active");const e=r.querySelector(".dropdown-trigger"),t=r.querySelector(".dropdown-menu");e&&e.setAttribute("aria-expanded","false"),t&&t.setAttribute("aria-hidden","true")}}console.log("[Navbar] Elements found, initializing...",{isMobileView:"none"!==getComputedStyle(e).display,viewport:`${window.innerWidth}x${window.innerHeight}`}),function(){const e=localStorage.getItem("theme");i(!e||"dark"===e)}(),o&&o.addEventListener("click",e=>{(e.target.closest(".toggle-option")||e.target.closest(".toggle-indicator")||e.target===o)&&(e.preventDefault(),e.stopPropagation(),i(!("dark"===document.documentElement.getAttribute("data-theme"))))}),e.addEventListener("click",n=>{n.stopPropagation(),function(){const n=t.classList.contains("active");e.classList.toggle("active"),t.classList.toggle("active"),e.setAttribute("aria-expanded",!n),e.setAttribute("aria-label",n?"Menu openen":"Menu sluiten")}()}),document.addEventListener("click",e=>{t.classList.contains("active")&&!n.contains(e.target)&&(l(),c())}),a&&a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),r.classList.toggle("active");const t=r.classList.contains("active"),n=r.querySelector(".dropdown-trigger"),o=r.querySelector(".dropdown-menu");n&&n.setAttribute("aria-expanded",t?"true":"false"),o&&o.setAttribute("aria-hidden",t?"false":"true")});const s=document.querySelector('a[href="#leerpad"]'),d=document.querySelector('a[href="#commands"]'),u=document.querySelector('a[href="#shortcuts"]'),m=document.querySelector('a[href="#over"]'),v=document.querySelector('a[href="#blog"]'),g=document.querySelector('a[href="#search"]');s&&s.addEventListener("click",function(e){e.preventDefault(),l(),c();const t=document.getElementById("terminal-input");if(t){t.value="leerpad",t.focus();const e=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,bubbles:!0});t.dispatchEvent(e)}}),d&&d.addEventListener("click",function(e){e.preventDefault(),l(),c();const t=document.getElementById("terminal-input");if(t){t.value="help",t.focus();const e=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,bubbles:!0});t.dispatchEvent(e)}}),u&&u.addEventListener("click",function(e){e.preventDefault(),l(),c();const t=document.getElementById("terminal-input");if(t){t.value="shortcuts",t.focus();const e=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,bubbles:!0});t.dispatchEvent(e)}}),m&&m.addEventListener("click",function(e){e.preventDefault(),l(),c(),function(){let e=document.getElementById("about-modal");if(!e){e=document.createElement("div"),e.id="about-modal",e.className="modal",e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby","about-title"),e.setAttribute("aria-hidden","true"),e.innerHTML='\n        <div class="modal-content">\n          <button class="modal-close" aria-label="Sluiten">&times;</button>\n          <div class="modal-body">\n            <h2 id="about-title">Over HackSimulator.nl</h2>\n            <p><strong>HackSimulator.nl</strong> is een veilige browser-based terminal simulator voor het leren van ethisch hacken en cybersecurity.</p>\n\n            <h3 style="color: var(--color-ui-primary); margin-top: var(--spacing-lg); margin-bottom: var(--spacing-md); font-size: 1.2rem;">Doel</h3>\n            <p>We bieden een toegankelijke en veilige leeromgeving voor beginners (15-25 jaar) om cybersecurity skills te ontwikkelen zonder risico op schade aan echte systemen.</p>\n\n            <h3 style="color: var(--color-ui-primary); margin-top: var(--spacing-lg); margin-bottom: var(--spacing-md); font-size: 1.2rem;">Features</h3>\n            <ul>\n              <li>30+ authentieke terminal commands</li>\n              <li>Realistische command output met educatieve context</li>\n              <li>Virtual filesystem voor veilig experimenteren</li>\n              <li>Nederlands interface voor Nederlandse markt</li>\n              <li>100% browser-based - geen installatie nodig</li>\n            </ul>\n\n            <h3 style="color: var(--color-ui-primary); margin-top: var(--spacing-lg); margin-bottom: var(--spacing-md); font-size: 1.2rem;">Open Source</h3>\n            <p>Dit project is open source en beschikbaar op <a href="https://github.com/JanWillemWubkes/hacksimulator" target="_blank" rel="noopener noreferrer">GitHub</a>.</p>\n\n            <p style="margin-top: var(--spacing-lg);"><strong>[ ! ] Belangrijk:</strong> Deze simulator is uitsluitend voor educatieve doeleinden. Gebruik deze kennis alleen legaal en ethisch.</p>\n          </div>\n          <div class="modal-footer">\n            <button class="btn-secondary">Sluiten</button>\n          </div>\n        </div>\n      ',document.body.appendChild(e);const t=e.querySelector(".modal-close"),n=e.querySelector(".btn-secondary"),o=()=>{e.classList.remove("active"),e.setAttribute("aria-hidden","true")};t&&t.addEventListener("click",o),n&&n.addEventListener("click",o),e.addEventListener("click",t=>{t.target===e&&o()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("active")&&o()})}e.classList.add("active"),e.setAttribute("aria-hidden","false")}()}),v&&v.addEventListener("click",function(e){e.preventDefault(),l(),c(),console.log("[Navbar] Navigating to blog..."),window.location.href="/blog/index.html"}),g&&g.addEventListener("click",function(e){if(e.preventDefault(),l(),window.commandSearchModal)window.commandSearchModal.open();else{const e=document.getElementById("terminal-input");e&&(e.focus(),e.value="help")}}),t.querySelectorAll("a:not(.dropdown-trigger)").forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{l(),c()},100)})}),document.addEventListener("keydown",n=>{"Escape"===n.key&&(t.classList.contains("active")&&(l(),e.focus()),c())}),window.addEventListener("resize",()=>{"none"===window.getComputedStyle(e).display&&(l(),c())}),console.log("[Navbar] Initialized successfully")}