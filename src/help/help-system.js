export default new class{constructor(){this.errorCount={},this.lastError={},this.sessionStart=Date.now()}recordError(e){this.errorCount[e]||(this.errorCount[e]=0),this.errorCount[e]++,this.lastError[e]=Date.now()}getHelp(e,n=null){const t=this.errorCount[e]||0;return 0===t||1===t?this._getTier1Help(e,n):2===t||3===t?this._getTier2Help(e,n):this._getTier3Help(e)}_getTier1Help(e,n){return n?`[ ? ] TIP: Bedoelde je misschien '${n}'?`:"[ ? ] TIP: Type 'help' voor een lijst van beschikbare commands."}_getTier2Help(e,n){let t="";if(n){t+=`[ ? ] Je hebt dit een paar keer geprobeerd. Bedoelde je: '${n}'?\n\n`,t+=`Voorbeeld: ${n} `;t+={ls:"← Toon bestanden",cd:"/etc ← Ga naar directory",cat:"README.txt ← Lees bestand",ping:"8.8.8.8 ← Test verbinding",nmap:"192.168.1.1 ← Scan poorten",help:"← Alle commands",man:"ls ← Manual van command"}[n]||"← Probeer dit command"}else t+=`[ ? ] Command '${e}' bestaat niet.\n\n`,t+="Probeer:\n",t+="• 'help' - Alle beschikbare commands\n",t+="• 'man <command>' - Help voor specifiek command\n",t+="• Tab toets - Autocomplete (binnenkort beschikbaar)";return t}_getTier3Help(e){return`[ ! ]  Command '${e}' bestaat niet en je hebt dit meerdere keren geprobeerd.\n\nVOLLEDIGE HULP:\n\n1. Type 'help' voor complete lijst van 30 commands\n2. Type 'man <command>' voor gedetailleerde uitleg van elk command\n\nBijvoorbeeld:\n   man ls      → Uitleg over bestanden tonen\n   man cd      → Uitleg over directory wisselen\n   man nmap    → Uitleg over port scanning\n\n[ ? ] VEELGEBRUIKTE COMMANDS:\n   • ls            → Toon bestanden in huidige directory\n   • cd <dir>      → Ga naar andere directory\n   • cat <file>    → Lees bestand\n   • ping <host>   → Test netwerk verbinding\n   • help          → Alle commands met korte beschrijving\n\n[ ? ] Zie ook: Type gewoon 'help' om te starten!`}getCategoryHelp(e){return{system:"SYSTEM COMMANDS:\n   clear, help, man, history, echo, date, whoami\n\n   Basis commands om de terminal te gebruiken.\n   Start met: help",filesystem:"FILESYSTEM COMMANDS:\n   ls, cd, pwd, cat, mkdir, touch, rm, cp, mv, find, grep\n\n   Commands om bestanden en directories te beheren.\n   Start met: ls (toon bestanden)",network:"NETWORK COMMANDS:\n   ping, nmap, ifconfig, netstat, whois, traceroute\n\n   Commands voor netwerk analyse en troubleshooting.\n   Start met: ping 8.8.8.8 (test internet)",security:"SECURITY COMMANDS:\n   hashcat, hydra, sqlmap, metasploit, nikto\n\n   [ ! ]  Offensive tools - alleen educatief gebruik!\n   Let op: Juridische warnings zijn van toepassing."}[e]||'Type "help" voor alle commands.'}getQuickStart(){return"QUICK START GUIDE:\n\n1. Verken het systeem:\n   ls          → Bekijk bestanden\n   pwd         → Waar ben je?\n   whoami      → Wie ben je?\n\n2. Navigeer rond:\n   cd /etc     → Ga naar /etc directory\n   cat passwd  → Lees passwd bestand\n   cd ~        → Terug naar home\n\n3. Test het netwerk:\n   ping 8.8.8.8        → Test internet\n   nmap 192.168.1.100  → Scan poorten\n\n4. Krijg hulp:\n   help        → Alle commands\n   man ls      → Uitleg over 'ls'\n\nType 'help' om te beginnen!"}reset(){this.errorCount={},this.lastError={},this.sessionStart=Date.now()}getStats(){const e=Object.values(this.errorCount).reduce((e,n)=>e+n,0),n=Math.floor((Date.now()-this.sessionStart)/1e3);return{totalErrors:e,uniqueErrors:Object.keys(this.errorCount).length,sessionDuration:n,mostFrequentError:this._getMostFrequentError()}}_getMostFrequentError(){let e=0,n=null;for(const[t,r]of Object.entries(this.errorCount))r>e&&(e=r,n=t);return n}};